import{_ as D,a as F,b as R,c as S,d as q,e as L,f as A}from"./TableCaption.vue_vue_type_script_setup_true_lang-B3fn-OjK.js";import{d as v,T as E,o as m,a as C,w as a,aJ as H,u as l,f as e,m as z,h as K,aK as M,z as P,a7 as G,t as O,v as Q,x as W,a5 as X,a8 as Y,j as k,D as w,I as Z,B as t,F as ee,E as ae,C as f}from"./index-RCdqYm-P.js";import{C as se}from"./check-KwqHlyrx.js";import{a as te}from"./BaseSearch.vue_vue_type_script_setup_true_lang-vcecEmEn.js";import"./Input.vue_vue_type_script_setup_true_lang-JXfjrqEO.js";const oe=v({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{}},emits:["update:checked"],setup(y,{emit:c}){const i=E(y,c);return(h,_)=>(m(),C(l(M),z(l(i),{class:l(K)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",h.$attrs.class??"")}),{default:a(()=>[e(l(H),{class:"flex h-full w-full items-center justify-center text-current"},{default:a(()=>[e(l(se),{class:"h-4 w-4"})]),_:1})]),_:1},16,["class"]))}}),ne={class:"py-10"},le={class:"py-8 space-y-8"},ce=w("h1",{class:"text-4xl"}," users ",-1),fe=v({__name:"users",async setup(y){let c,p;const r=P(""),i=G(r,500),h=O(),_=([c,p]=Q(()=>h.getUserFactory()),c=await c,p(),c),b=W([]),B=X(()=>i.value?b.value.filter(n=>n.userName.toLowerCase().includes(i.value.toLowerCase())):b.value);async function $(){const n=await _.getAllUsers();b.value=n.map(s=>({owner:s[0],userName:s[1],isJudge:s[2],jobIds:s[3].map(Number),escrowIds:s[4].map(Number)}))}Y(()=>{$()});async function x(n,s){s?await _.setJudge(n):await _.unsetJudge(n)}return(n,s)=>{const N=te,T=F,u=R,g=S,U=q,j=oe,d=L,V=A,I=D;return m(),k("div",null,[w("div",ne,[e(N,{modelValue:l(r),"onUpdate:modelValue":s[0]||(s[0]=o=>Z(r)?r.value=o:null),placeholder:"search for username or keyword"},null,8,["modelValue"])]),w("div",le,[ce,e(I,null,{default:a(()=>[e(T,null,{default:a(()=>[t("a list of all users")]),_:1}),e(U,null,{default:a(()=>[e(g,null,{default:a(()=>[e(u,null,{default:a(()=>[t("judge")]),_:1}),e(u,null,{default:a(()=>[t("username")]),_:1}),e(u,null,{default:a(()=>[t("address")]),_:1}),e(u,null,{default:a(()=>[t("jobs")]),_:1}),e(u,null,{default:a(()=>[t("escrows")]),_:1})]),_:1})]),_:1}),e(V,null,{default:a(()=>[(m(!0),k(ee,null,ae(l(B),o=>(m(),C(g,{key:o.userName},{default:a(()=>[e(d,{class:""},{default:a(()=>[e(j,{"default-checked":o.isJudge,"onUpdate:checked":J=>x(o.owner,J)},null,8,["default-checked","onUpdate:checked"])]),_:2},1024),e(d,{class:"font-medium"},{default:a(()=>[t(f(o.userName),1)]),_:2},1024),e(d,{class:"tracking-wider"},{default:a(()=>[t(f(o.owner),1)]),_:2},1024),e(d,null,{default:a(()=>[t(f(o.jobIds.length),1)]),_:2},1024),e(d,null,{default:a(()=>[t(f(o.escrowIds.length),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])}}});export{fe as default};
