import{d as h,t as w,v as x,z as i,a8 as v,j as y,D as o,K as g,f as l,u as d,I as V,w as B,at as U,N as k,o as C,B as N,L as b}from"./index-dGspU4tC.js";import{_ as R}from"./Input.vue_vue_type_script_setup_true_lang-SH6bmouN.js";const $={class:"absolute inset-0 flex-center"},F={class:"w-1/3 border rounded-md"},M=o("h1",{class:"font-medium text-xl"}," welcome to skillchain ",-1),S=o("p",{class:"text-muted-foreground text-sm mt-0.5"}," you first need to create a username ",-1),D=h({__name:"register",async setup(j){let s,r;const n=w(),c=U(),m=([s,r]=x(()=>n.getUserFactory()),s=await s,r(),s),u=i(),t=i("");v(()=>{var a;(a=u.value)==null||a.$el.focus(),n.isRegistered&&c.push("/")});async function _(){const e=await(await m.registerUser(t.value)).wait();(e==null?void 0:e.status)===1&&(await b(n.address),c.push("/"))}return(a,e)=>{const f=k;return C(),y("div",$,[o("div",F,[o("form",{class:"p-5",onSubmit:g(_,["prevent"])},[M,S,l(d(R),{ref_key:"input",ref:u,modelValue:d(t),"onUpdate:modelValue":e[0]||(e[0]=p=>V(t)?t.value=p:null),class:"mt-5",placeholder:"username"},null,8,["modelValue"]),l(f,{class:"mt-3 w-full"},{default:B(()=>[N(" register ")]),_:1})],32)])])}}});export{D as default};
